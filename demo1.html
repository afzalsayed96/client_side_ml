<html>

<head>
    <!-- Load the latest version of TensorFlow.js -->
    <script src="https://unpkg.com/@tensorflow/tfjs"></script>
</head>

<body>
    <div id="console"></div>
    <!-- Add an image that we will use to test -->
    <img id="img" crossOrigin src="./sphynx.webp" width="224" height="224" />
    <!-- Load index.js after the content of the page -->
    <script>
        let net, prediction, model, imgEl_tf;

        async function myapp() {
            model = await tf.loadLayersModel('./models/pets/model.json');
            const imgEl = document.getElementById('img');
            imgEl_tf = tf.browser.fromPixels(imgEl);
            imgEl_exp = imgEl_tf.div(127.5).sub(1).expandDims(0)
            prediction = await model.predict(imgEl_exp);
            prediction.argMax(1).print();

        }
        myapp();
    </script>
</body>

</html>