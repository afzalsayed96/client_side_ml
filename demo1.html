<html>

<head>
    <!-- Load the latest version of TensorFlow.js -->
    <script src="https://unpkg.com/@tensorflow/tfjs"></script>
    <script src="https://unpkg.com/@tensorflow-models/mobilenet"></script>
</head>

<body>
    <div id="console"></div>
    <!-- Add an image that we will use to test -->
    <img id="img" crossOrigin src="./images/sphynx.jpg" width="224" height="224" />
    <img id="img1" crossOrigin src="./images/cat.jpeg" width="224" height="224" />
    <!-- Load index.js after the content of the page -->
    <script>
        let net, prediction, model, imgEl_tf;

        async function myapp() {
            model = await tf.loadLayersModel('./models/pets/model.json');
            const imgEl = document.getElementById('img');
            imgEl_tf = tf.browser.fromPixels(imgEl);
            imgEl_exp = imgEl_tf.div(127.5).sub(1).expandDims(0)
            prediction = await model.predict(imgEl_exp);
            prediction.argMax(1).print();

        }

        async function app() {
            console.log('Loading mobilenet..');

            // Load the model.
            net = await mobilenet.load();
            console.log('Sucessfully loaded model');

            // Make a prediction through the model on our image.
            const imgEl = document.getElementById('img');
            prediction = await net.classify(imgEl);
            console.log(prediction[0]);
        }

        // app();
    </script>
</body>

</html>